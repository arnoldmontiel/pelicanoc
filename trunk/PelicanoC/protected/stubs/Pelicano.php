<?php
/**
* Soap client Pelicano
*
* Autogenerated with the Yii extension wsdl2php.
*/

class SOAP2Arrya
{
	public function toArray()
	{
		return json_decode(json_encode($this), true);
	}
}

class MovieResponse
{
public $Id; //integer;
public $url; //string;
public $file_name; //string;
public $subt_url; //string;
public $subt_file_name; //string;
public $Id_resource_type; //string;//integer;
public $deleted; //integer;
public $points; //integer;
public $ID; //string;
public $Title; //string;
public $Year; //string;
public $Rated; //string;
public $Released; //string;
public $Genre; //string;
public $Director; //string;
public $Writer; //string;
public $Actors; //string;
public $Plot; //string;
public $Poster; //string;
public $Runtime; //string;
public $Rating; //string;
public $Votes; //string;
public $Response; //string;
public $Backdrop; //string;
}

class MovieStateRequest extends SOAP2Arrya
{
	public $id_customer; //integer;
	public $id_movie; //integer;
	public $id_state; //integer;
	public $date; //integer;
}

class SerieResponse
{
	public $Id; //integer;
	public $url; //string;
	public $file_name; //string;
	public $subt_url; //string;
	public $subt_file_name; //string;
	public $Id_resource_type; //integer;
	public $deleted; //integer;
	public $points; //integer;	
	public $ID; //string;
	public $Title; //string;
	public $Year; //string;
	public $Rated; //string;
	public $Released; //string;
	public $Genre; //string;
	public $Director; //string;
	public $Writer; //string;
	public $Actors; //string;
	public $Plot; //string;
	public $Poster; //string;
	public $Runtime; //string;
	public $Rating; //string;
	public $Votes; //string;
	public $Response; //string;
	public $Backdrop; //string;
	public $Season; //integer;
	public $Episode; //integer;
	public $Id_parent; //string;
	public $Deleted_serie; //integer;	
	public $arrSeason; //SeasonArray;
}
class SerieStateRequest extends SOAP2Arrya
{
	public $id_customer; //integer;
	public $id_serie_nzb; //integer;
	public $id_state; //integer;
	public $date; //integer;
	public $id_imdbdata_tv; //string;
}
class SeasonResponse extends SOAP2Arrya
{
	public $Id_imdbdata_tv; //string;
	public $season; //integer;
	public $episodes; //integer;
}
class TransactionResponse extends SOAP2Arrya
{
	public $Id; //integer;
	public $Id_customer; //integer;
	public $points; //integer;
	public $Id_transaction_type; //integer;
	public $description; //string;
}

/**
* The soap client proxy class
*/
class Pelicano 
 {
	public $soapClient;

	private static $classmap = array(
		'MovieResponse'=>'MovieResponse',
		'SerieResponse'=>'SerieResponse',
		'SeasonResponse'=>'SeasonResponse',
		'MovieStateRequest'=>'MovieStateRequest',
		'SerieStateRequest'=>'SerieStateRequest',
		'TransactionResponse'=>'TransactionResponse',

);

function __construct($url='/index.php?r=nzb/wsdl')
{
	ini_set ('soap.wsdl_cache_enabled',0);
	$url = Setting::getInstance()->host_name.Setting::getInstance()->host_path.$url;
	$this->soapClient = new SoapClient($url,array("classmap"=>self::$classmap,"trace" => true,"exceptions" => true));
}


function getNewMovies($integer)
{
	$MovieResponseArray = $this->soapClient->getNewMovies($integer);
	return $MovieResponseArray;
}
function getNewSeries($integer)
{
	$SerieResponseArray = $this->soapClient->getNewSeries($integer);
	return $SerieResponseArray;
}
function setMovieState($MovieStateRequestArray)
{
	$r = array();
	foreach ($MovieStateRequestArray as $item)
	{
		$r[]=$item->toArray();
	}
	return $this->soapClient->setMovieState($r);
}

function setSerieState($SerieStateRequestArray)
{
	$r= array();
	foreach ($SerieStateRequestArray as $item)
	{
		$r[]=$item->toArray();
	}
	
	return $this->soapClient->setSerieState($r);
	
}

function getPoints($Id_customer, $Id_transaction)
{
	return $this->soapClient->getPoints($Id_customer, $Id_transaction);
}
}


